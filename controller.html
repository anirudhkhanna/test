<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="An Internet controlled home appliances automation system. By Ashwani Kumar and Anirudh Khanna">
    <meta name="author" content="Anirudh, Ashwani">

    <title>ICE - Internet Controlled Electronics</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/style.css" rel="stylesheet">
    

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    
    <style>
    body {
        padding-top: 20px;
    }
    
    @media (max-width: 500px) {
        .table-sm {
            font-size: 8px;
        }
    }
    </style>

</head>

<body onLoad="setDictationStatus()">
    
    <!-- /. Dynamic Tabs Nav -->
    <ul class="nav nav-tabs">
        <li><a style="float:left; padding:0px 30px; margin-top:5px; margin-left:40px;" href="index.html"><img src="img/ice-logo.png" height="30px;"></a></li>

        <li class="active"><a data-toggle="tab" href="#menu1"> <span class="glyphicon glyphicon-send"></span>&nbsp; Give Commands</a></li>
        <li><a data-toggle="tab" href="#menu2"> <span class="glyphicon glyphicon-plus"></span>&nbsp; Add Commands</a></li>
    </ul>

    <!-- /. Dynamic Tabs content  -->
    <div class="tab-content">
        <!-- Menu 1 (Give Commands) -->
        <div id="menu1" class="tab-pane fade in active">
            
            <!-- Menu 1 Page Content -->
            <div class="container main-container">
            <div class="row">
                <div class="col-lg-12 text-center">
                
                <a href="index.html">
                <img src="img/ice-brand.png" style="width:25%; margin-bottom: 10px;">
                </a>
                <p><em>Internet Controlled Electronics: Your home controller in your pocket!</em></p>
                <hr> <br>
            
                <!-- Shoot Command Form -->
                <center>
                <form id="labnol" method="post" action="http://iot.buyoldenbooks.com/update2.php">
                    <div class="speech">
                    <input type="text" name="status" id="transcript" placeholder="Give command..." autofocus/>
                    <img onclick="startDictation()" src="img/speech.gif" />
                    </div>
                </form>
                <br />
                <label>
                    <input type="checkbox" id="listeningcheckbox" onClick="setDictationStatus()"> Always listening &nbsp;<span class="glyphicon glyphicon-volume-up" id="listeningicon" style="color:#da3434;"></span></input>
                </label>
                </center>
            
                <br>
                </div>
            </div> <!-- /.row -->
            </div> <!-- /.Menu 1 content container -->
        
        </div>
        <!-- /. Menu 1 close -->
        
        
        <!-- Menu 2 (Add Commands) -->
        <div id="menu2" class="tab-pane fade">
            
            <!-- Menu 2 Page Content -->
            <div class="container main-container">
            <div class="row">
                <div class="col-lg-12 text-center">
                
                <a href="index.html">
                <img src="img/ice-brand.png" style="width:25%; margin-bottom: 10px;">
                </a>
                <p><em>Internet Controlled Electronics: Your home controller in your pocket!</em></p>
                <hr> <br>
            
                <!-- Add Commands Form -->
                <center>
                <form method="post" action="">
                    <div class="addcommand">
                    <input type="text" placeholder="Add command..."/>
                    </div>
                    <br>
                    <big><strong>Select devices: </strong></big>
                    <input type="checkbox"> Device 1 &nbsp;</input>
                    <input type="checkbox"> Device 2 &nbsp;</input>
                    <input type="checkbox"> Device 3 &nbsp;</input>
                    <input type="checkbox"> Device 4 &nbsp;</input>
                    <br>
                    <br>
                    <input type="submit" class="btn btn-info"></input>
                </form>
                </center>
                
                <br>
                <hr>
                <!-- TABLE OF COMMANDS -->
                <table class="table table-sm">
                <thead>
                <tr>
                <th><center>Command</center></th>
                <th><center>Device 1</center></th>
                <th><center>Device 2</center></th>
                <th><center>Device 3</center></th>
                <th><center>Device 4</center></th>
                </tr>
                </thead>

                <tbody>
                <tr>
                    <td>I AM BACK HOME</td>
                    <td>ON</td>
                    <td>-</td>
                    <td>ON</td>
                    <td>-</td>
                </tr>

                <tr>
                    <td>GOOD NIGHT</td>
                    <td>OFF</td>
                    <td>ON</td>
                    <td>-</td>
                    <td>-</td>
                </tr>

                <tr>
                    <td>I AM BACK HOME</td>
                    <td>ON</td>
                    <td>-</td>
                    <td>ON</td>
                    <td>-</td>
                </tr>

                </tbody>
                </table>
            
                <br>
                </div>
            </div> <!-- /.row -->
            </div> <!-- /.Menu 2 content container -->
        
        </div>
        <!-- /. Menu 2 close -->
        
    </div>
    <!-- /. Dynamic Tabs close -->



    <!-- footer -->
    <footer>
        &copy; ICE Project 2016 &nbsp;&bull;&nbsp; 
        Created by Ashwani and Anirudh &nbsp;&bull;&nbsp;     
        <img src="img/ice-brand.png" style="height:20px;">
    </footer>
    <!-- /.footer -->

    
    
    <!-- HTML5 Speech Recognition API -->
    <script>
    
    var checkboxL = document.getElementById('listeningcheckbox');
    
    
    window.setInterval(function(){
        setDictationStatus();
    }, 5000);

    
    function setDictationStatus() {
        if(checkboxL.checked) {
            startDictation(); // call dictation function here
            $('#listeningicon').fadeIn();
        }
        else
            $('#listeningicon').fadeOut();
    }
    
    function startDictation() {
 
        if (window.hasOwnProperty('webkitSpeechRecognition')) {
 
            var recognition = new webkitSpeechRecognition();
 
            recognition.continuous = false;
            recognition.interimResults = false;
 
            recognition.lang = "en-US";
            recognition.start();
 
            recognition.onresult = function(e) {
            document.getElementById('transcript').value = e.results[0][0].transcript;
            recognition.stop();
            document.getElementById('labnol').submit();
            };
 
            recognition.onerror = function(e) {
                recognition.stop();
           }
 
        }
    }
    </script>

    <!-- jQuery Version 1.11.1 -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>

</html>